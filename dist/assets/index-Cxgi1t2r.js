(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();let e={mode:"select",currentRound:0,correctAnswer:0,correctAnswers:0,rounds:10,numberCount:5,digitCount:2,allowNegative:!0,allowDecimals:!0,displayTime:1,practiceNumbers:[],currentNumberIndex:0,timer:null};const m=document.getElementById("mode-selection"),y=document.getElementById("settings-screen"),f=document.getElementById("practice-screen"),a=document.getElementById("guess-screen"),x=document.getElementById("results-screen"),C=document.getElementById("flash-mode"),M=document.getElementById("listening-mode"),k=document.getElementById("start-practice"),g=document.getElementById("next-number"),b=document.getElementById("show-answer"),L=document.getElementById("submit-guess"),A=document.getElementById("restart"),R=document.getElementById("back-to-mode"),u=document.getElementById("current-number"),I=document.getElementById("round-number"),h=document.getElementById("round-progress"),c=document.getElementById("guess-input"),s=document.getElementById("guess-feedback"),B=document.getElementById("accuracy-result"),d=document.getElementById("performance-result");C.addEventListener("click",()=>w());M.addEventListener("click",()=>w());k.addEventListener("click",P);g.addEventListener("click",E);b.addEventListener("click",F);L.addEventListener("click",N);A.addEventListener("click",D);R.addEventListener("click",T);c.addEventListener("keydown",t=>{t.key==="Enter"&&N()});window.addEventListener("DOMContentLoaded",()=>{m.style.display="flex"});function w(t){e.mode="settings",m.style.display="none",y.style.display="flex"}function T(){y.style.display="none",m.style.display="flex"}function P(){e.rounds=parseInt(document.getElementById("rounds").value),e.numberCount=parseInt(document.getElementById("number-count").value),e.digitCount=parseInt(document.getElementById("digit-count").value),e.allowNegative=document.getElementById("negative-checkbox").checked,e.allowDecimals=document.getElementById("decimal-checkbox").checked,e.displayTime=parseFloat(document.getElementById("display-time").value),e.mode="practice",y.style.display="none",f.style.display="flex",e.currentRound=0,e.correctAnswers=0,v()}function v(){e.currentRound++,f.style.display="flex",a.style.display="none",g.style.display="inline-block",b.style.display="none",e.currentNumberIndex=0,e.practiceNumbers=S(),e.correctAnswer=e.practiceNumbers.reduce((t,l)=>t+l,0),O(),E()}function S(){const t=[];for(let i=0;i<e.numberCount;i++){let o=0;if(e.digitCount===1?o=Math.floor(Math.random()*10):e.digitCount===2?o=Math.floor(Math.random()*90)+10:o=Math.floor(Math.random()*900)+100,e.allowNegative&&Math.random()>.5&&(o=-o),e.allowDecimals&&Math.random()>.5){const n=Math.random();o+=Math.round(n*100)/100}t.push(o)}const l=t.reduce((i,o)=>i+o,0);if(l<=0){const i=Math.abs(l)+1;t[t.length-1]+=i}return t}function O(){I&&(I.textContent=`Round ${e.currentRound} of ${e.rounds}`),h&&(h.textContent=`Progress: ${e.currentRound}/${e.rounds}`)}function E(){if(e.currentNumberIndex>=e.practiceNumbers.length){b.style.display="inline-block",g.style.display="none";return}u&&(u.textContent=e.practiceNumbers[e.currentNumberIndex].toString(),u.style.display="block");const t=e.displayTime*1e3;e.timer&&clearTimeout(e.timer),e.timer=setTimeout(()=>{u&&(u.style.display="none"),e.currentNumberIndex++,E()},t)}function F(){e.timer&&clearTimeout(e.timer),f.style.display="none",a.style.display="flex",c&&c.focus()}function N(){if(c&&c.value){const t=parseFloat(c.value);Math.abs(t-e.correctAnswer)<.01?(e.correctAnswers++,s&&(s.textContent="Correct! ðŸŽ‰",s.style.color="green")):s&&(s.textContent=`Incorrect. The answer was ${e.correctAnswer.toFixed(2)}`,s.style.color="red"),e.currentRound<e.rounds?setTimeout(()=>{c.value="",s.textContent="",a.style.display="none",v()},2e3):setTimeout(()=>{$()},2e3)}else c&&!c.value&&s&&(s.textContent="Please enter a number",s.style.color="orange")}function $(){const t=Math.round(e.correctAnswers/e.rounds*100);B&&(B.textContent=`Final Accuracy: ${t}%`),d&&(t>=90?d.textContent="Excellent! ðŸ†":t>=70?d.textContent="Good job! ðŸ‘":t>=50?d.textContent="Keep practicing! ðŸ’ª":d.textContent="Need more practice! ðŸ“š"),a.style.display="none",x.style.display="flex"}function D(){e.timer&&clearTimeout(e.timer),y.style.display="none",f.style.display="none",a.style.display="none",x.style.display="none",m.style.display="flex",e={mode:"select",currentRound:0,totalRounds:10,numbers:[],guess:0,correctAnswer:0,correctAnswers:0,rounds:10,numberCount:5,digitCount:2,allowNegative:!0,allowDecimals:!0,displayTime:1,practiceNumbers:[],currentNumberIndex:0,timer:null}}
